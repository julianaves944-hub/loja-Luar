<script>
    // Array para armazenar os itens do carrinho
    let cartItems = [];

    // Botões e elementos do carrinho
    const cartButton = document.getElementById("cart-button");
    const cart = document.getElementById("cart");
    const cartList = document.getElementById("cart-items");
    const checkoutButton = document.getElementById("checkout-button");

    // Mostrar/ocultar carrinho
    cartButton.addEventListener("click", () => {
        cart.style.display = cart.style.display === "block" ? "none" : "block";
    });

    // Função para adicionar item ao carrinho
    function addToCart(productName, price = 0) {
        cartItems.push({ name: productName, price: price });
        renderCart();
    }

    // Renderizar carrinho
    function renderCart() {
        cartList.innerHTML = "";
        let total = 0;

        cartItems.forEach((item, index) => {
            total += item.price;
            const li = document.createElement("li");
            li.classList.add("flex", "justify-between", "items-center", "py-1");

            li.innerHTML = `
                <span>${item.name} - R$ ${item.price.toFixed(2)}</span>
                <button onclick="removeFromCart(${index})" class="text-red-500 text-sm">x</button>
            `;
            cartList.appendChild(li);
        });

        // Mostrar total
        if (cartItems.length > 0) {
            const totalLi = document.createElement("li");
            totalLi.classList.add("font-bold", "mt-2");
            totalLi.textContent = "Total: R$ " + total.toFixed(2);
            cartList.appendChild(totalLi);
        } else {
            cartList.innerHTML = "<li class='text-gray-500'>Carrinho vazio</li>";
        }
    }

    // Remover item do carrinho
    function removeFromCart(index) {
        cartItems.splice(index, 1);
        renderCart();
    }

    // Simular checkout
    checkoutButton.addEventListener("click", () => {
        if (cartItems.length === 0) {
            alert("Seu carrinho está vazio!");
        } else {
            alert("Finalizando compra de " + cartItems.length + " item(s).");
            // Aqui depois você conecta ao Mercado Pago
        }
    });

    // Expor função global para os botões
    window.addToCart = addToCart;
</script>
